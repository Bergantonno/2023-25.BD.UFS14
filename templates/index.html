<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analisi dei Numeri</title>
    <script>
        async function inviaNumeri() {
            const input = document.getElementById("numeriInput").value;
            const numeri = input.split(",").map(num => num.trim());
            const risultatoDiv = document.getElementById("risultato");

            try {
                const response = await fetch("/api/processa", { // Modificato il percorso
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ numeri })
                });

                if (!response.ok) {
                    throw new Error("Errore nell'elaborazione dei dati.");
                }

                const risultato = await response.json();
                risultatoDiv.textContent = JSON.stringify(risultato, null, 2);
            } catch (err) {
                risultatoDiv.textContent = `Errore: ${err.message}`;
            }
        }
    </script>
</head>
<body>
    <h1>Analisi dei Numeri</h1>
    <p>Inserisci una lista di numeri separati da virgola:</p>
    <input id="numeriInput" type="text" placeholder="Esempio: 2, 3, 4, 5">
    <button onclick="inviaNumeri()">Invia</button>
    <pre id="risultato"></pre>
</body>
</html>
